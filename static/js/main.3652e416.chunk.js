(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{183:function(e,t,a){e.exports=a.p+"static/media/channels4_banner.7947a779.png"},184:function(e,t,a){e.exports=a.p+"static/media/youtube.ac11c287.png"},185:function(e,t,a){e.exports=a.p+"static/media/yt_chat.e2513289.png"},186:function(e,t,a){e.exports=a.p+"static/media/donate.166b2c38.png"},187:function(e,t,a){e.exports=a(417)},412:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);a(188),a(203);var n=a(3),s=a.n(n),c=a(181),o=a.n(c),r=(a(412),a(119)),i=a.n(r),l=a(182),u=a(52),h=a(53),g=a(55),d=a(54),m=a(25),p=a(56),v=(a(414),a(415),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(g.a)(this,Object(d.a)(t).call(this,e))).state={messageLogin:"",messageDate:"",messageSelected:!1,storage_login:"",storage_date:""},a.onSelectMessage=a.onSelectMessage.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("message_date"),t=localStorage.getItem("message_login");this.setState({storage_login:t,storage_date:e})}},{key:"changeUrl",value:function(){return this.props.value.content.replace("https:","https://").replace("youtube.com","youtube.com/").replace("picosong.com","picosong.com/").replace("youtu.be","youtu.be/").replace("soundcloud.com","soundcloud.com/").replace("[...]","/")}},{key:"createMarkup",value:function(e){return{__html:"".concat(e)}}},{key:"onSelectMessage",value:function(e){if("Range"!==document.getSelection().type){var t=e.currentTarget.firstChild.firstChild.textContent,a=e.currentTarget.firstChild.nextSibling.firstChild.textContent;e.currentTarget.parentElement.childNodes.forEach(function(e){var t=e;t.classList.remove("selectDark"),t.classList.remove("selectLight")}),localStorage.setItem("message_login",t.toString()),localStorage.setItem("message_date",a.toString()),this.props.theme?e.currentTarget.classList.add("selectDark"):e.currentTarget.classList.add("selectLight"),this.setState({messageSelected:!this.state.messageSelect,messageLogin:t,messageDate:a})}}},{key:"render",value:function(){var e=this.props,t=e.value,a=e.theme,n=e.index,c=this.state,o=c.storage_login,r=c.storage_date,i=Math.fround(t.payment.amount_netto/100).toFixed(2),l=new Date(t.created_at),u=new Date;u.setDate(u.getDate()-1);var h=l.getDate()<10?"0".concat(l.getDate()):l.getDate(),g=l.getMonth()+1,d=g<10?"0".concat(g):g,m=l.getHours()<10?"0".concat(l.getHours()):l.getHours(),p=l.getMinutes()<10?"0".concat(l.getMinutes()):l.getMinutes(),v=l.getSeconds()<10?"0".concat(l.getSeconds()):l.getSeconds(),_="".concat(h,"-").concat(d,"-").concat(l.getFullYear()," ").concat(m,":").concat(p,":").concat(v),b=this.changeUrl(),f=b.match(/\bhttps?:\/\/\S+/),y=b.replace(f,'<a href="'.concat(f,'">').concat(f,"</a>")),w=t.login===o&&_===r?a?"selectDark":"selectLight":"";return s.a.createElement("div",{onClick:this.onSelectMessage,className:"".concat(w," message_container ").concat(a?"message_container_dark_theme":"")},s.a.createElement("div",{className:"message_flex"},s.a.createElement("div",{className:"message_login"},t.login),s.a.createElement("div",{className:"message_currency"},i," ",t.payment.currency)),s.a.createElement("div",{className:"message_flex"},s.a.createElement("div",{className:"message_date_prov"},_),s.a.createElement("div",{className:"message_date_prov"},"P\u0142atno\u015b\u0107: ",t.payment.provider)),s.a.createElement("div",{className:"message_content",dangerouslySetInnerHTML:this.createMarkup(y)}),s.a.createElement("div",{className:"numberOfDonate"},n+1))}}]),t}(s.a.PureComponent)),_=(a(416),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(g.a)(this,Object(d.a)(t).call(this,e))).toggleChange=a.toggleChange.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"toggleChange",value:function(){this.props.toggleChange()}},{key:"render",value:function(){return s.a.createElement("div",{className:"switch_container"},s.a.createElement("label",{className:"switch"},s.a.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:this.toggleChange}),s.a.createElement("span",{className:"slider round"})))}}]),t}(n.Component)),b=a(183),f=a.n(b),y=a(184),w=a.n(y),k=a(185),S=a.n(k),E=a(186),C=a.n(E),O=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(g.a)(this,Object(d.a)(t).call(this,e))).yt_container=void 0,a.yt_video=void 0,a.yt_chat_container=void 0,a.yt_chat=void 0,a.yt_container=s.a.createRef(),a.yt_video=s.a.createRef(),a.yt_chat_container=s.a.createRef(),a.yt_chat=s.a.createRef(),a.state={isChecked:!0,limit:0,listLength:10,listOfMsgs:[],login:"",showButton:!1,isActiveList:!0,yt_clicked:!1,chat_clicked:!1},a.toggleChange=a.toggleChange.bind(Object(m.a)(a)),a.fetchMessages=a.fetchMessages.bind(Object(m.a)(a)),a.scrollEvent=a.scrollEvent.bind(Object(m.a)(a)),a.scrollToTop=a.scrollToTop.bind(Object(m.a)(a)),a.showYt=a.showYt.bind(Object(m.a)(a)),a.showChat=a.showChat.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("dark_theme")&&this.setState({isChecked:JSON.parse(localStorage.getItem("dark_theme")||"")}),document.title="Lista donate: brudna-malpa",this.fetchMessages(),window.addEventListener("scroll",this.scrollEvent,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollEvent,!0)}},{key:"scrollEvent",value:function(){window.scrollY>window.innerHeight?this.setState({showButton:!0}):this.setState({showButton:!1})}},{key:"fetchMessages",value:function(){var e=this,t={calls:[{method:"POST",params:{limit:1,login:"brudna-malpa",offset:0},url:"/user/page/getMessagesByLogin"}],lang:"pl",token:"0"},a="https://prod.tipanddonation.com/api/core/batchcall";try{fetch(a,{body:JSON.stringify(t),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()}).then(function(n){var s=n[t.calls[0].url].data.results,c=n[t.calls[0].url].data.data[0].created_at,o=Number(c.substring(0,4)),r=Number(c.substring(5,7)),u=Number(c.substring(8,10)),h=Number(c.substring(11,13)),g=Number(c.substring(14,16)),d=Number(c.substring(17,19)),m=(/Trident\/|MSIE/.test(window.navigator.userAgent)?new Date(o,r,u,h,g,d):new Date(c)).getFullYear()!==(new Date).getFullYear();function p(){return(p=Object(l.a)(i.a.mark(function e(){var n,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.calls[0].params.limit=150,/Trident\/|MSIE/.test(window.navigator.userAgent)||(t.calls[0].params.offset=m?s-150:0),e.next=4,fetch(a,{body:JSON.stringify(t),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},method:"POST"});case 4:return n=e.sent,e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",c[t.calls[0].url].data.data);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}(function(){return p.apply(this,arguments)})().then(function(t){e.setState({listOfMsgs:m?t?t.reverse():[]:t})})})}catch(n){}}},{key:"renderMsgs",value:function(){var e=this,t=this.state.listOfMsgs,a=new Date,n=new Date;n.setDate(n.getDate()-1);var c=t&&t.filter(function(e){var t=e.created_at,s=Number(t.substring(0,4)),c=Number(t.substring(5,7)),o=Number(t.substring(8,10)),r=Number(t.substring(11,13)),i=Number(t.substring(14,16)),l=Number(t.substring(17,19)),u=/Trident\/|MSIE/.test(window.navigator.userAgent)?new Date(s,c,o,r,i,l):new Date(e.created_at);return a.getDate()===u.getDate()||n.getDate()===u.getDate()});return c.length>0?c.map(function(t,a){return s.a.createElement(v,{key:a,value:t,theme:e.state.isChecked,index:c.length-1-a})}):s.a.createElement("div",{style:{height:"100vh",fontSize:"2em"}})}},{key:"toggleChange",value:function(){var e=this;this.setState({isChecked:!this.state.isChecked},function(){localStorage.setItem("dark_theme",e.state.isChecked.toString())})}},{key:"scrollToTop",value:function(){window.scroll({top:0,behavior:"smooth"})}},{key:"showOrHide",value:function(e,t,a,n,s,c){e?t&&(t.classList.add(s),t.classList.remove(n)):t&&a&&(t.classList.add(n),t.classList.remove(s),""===a.src&&(a.src=c))}},{key:"showYt",value:function(){var e=this.yt_container.current,t=this.yt_video.current;e&&t&&this.showOrHide(this.state.yt_clicked,e,t,"show_yt","hide_yt","https://www.youtube.com/embed/live_stream?channel=UC_Cxtw8qwDYOodWxQw0e-yA&amp;autoplay=true&iv_load_policy=3&modestbranding=1&rel=0"),this.setState({yt_clicked:!this.state.yt_clicked})}},{key:"showChat",value:function(){var e="https://www.youtube.com/live_chat?v=oV4xFHpSjdI&embed_domain=".concat(window.location.hostname),t=this.yt_chat_container.current,a=this.yt_chat.current;t&&a&&this.showOrHide(this.state.chat_clicked,t,a,"show_yt_chat","hide_yt_chat",e),this.setState({chat_clicked:!this.state.chat_clicked})}},{key:"render",value:function(){var e=this.state,t=e.isChecked,a=e.showButton;return s.a.createElement("div",{className:"App ".concat(t?"dark_theme":"light_theme")},s.a.createElement("div",{className:"banner_container"},s.a.createElement("img",{onClick:this.showYt,className:"banner_icon yt_logo_icon",src:w.a,alt:"yt_logo"}),s.a.createElement("a",{className:"tadLink",href:"https://tipanddonation.com/brudna-malpa",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:C.a,alt:"tipanddonation icon"})),s.a.createElement("img",{className:"banner",src:f.a,alt:"brudna_malpa_banner"}),s.a.createElement("img",{onClick:this.showChat,className:"banner_icon chat_yt_logo",src:S.a,alt:"yt_chat_logo"})),s.a.createElement("div",{className:"yt_container",ref:this.yt_container},s.a.createElement("iframe",{ref:this.yt_video,className:"yt_video",title:"youtube",allowFullScreen:!0,frameBorder:"0"})),s.a.createElement("div",{className:"yt_chat_container",ref:this.yt_chat_container},s.a.createElement("iframe",{ref:this.yt_chat,className:"chat_embed",title:"youtube_chat",frameBorder:"0"})),s.a.createElement(_,{checked:t,toggleChange:this.toggleChange}),this.state.listOfMsgs.length>0?s.a.createElement("div",{className:"page-container"},this.renderMsgs()):null,s.a.createElement("div",{onClick:this.scrollToTop,className:"arrow-up ".concat(t?"arrow-up-dark-theme":""),style:{display:a?"block":"none"}},"\u2191"))}}]),t}(s.a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[187,1,2]]]);
//# sourceMappingURL=main.3652e416.chunk.js.map