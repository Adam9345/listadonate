(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(22)},,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(9),c=n.n(o),i=(n(17),n(7)),r=n.n(i),l=n(10),h=n(2),u=n(3),d=n(5),g=n(4),m=n(1),p=n(6),v=(n(19),n(20),function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"changeUrl",value:function(){return this.props.value.content.replace("https:","https://").replace("youtube.com","youtube.com/").replace("picosong.com","picosong.com/").replace("youtu.be","youtu.be/").replace("soundcloud.com","soundcloud.com/").replace("[...]","/")}},{key:"createMarkup",value:function(e){return{__html:"".concat(e)}}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.theme,a=e.index,o=Math.fround(t.payment.amount_netto/100).toFixed(2),c=new Date(t.created_at),i=c.getDate()<10?"0".concat(c.getDate()):c.getDate(),r=c.getMonth()+1,l=r<10?"0".concat(r):r,h=c.getHours()<10?"0".concat(c.getHours()):c.getHours(),u=c.getMinutes()<10?"0".concat(c.getMinutes()):c.getMinutes(),d=c.getSeconds()<10?"0".concat(c.getSeconds()):c.getSeconds(),g="".concat(i,"-").concat(l,"-").concat(c.getFullYear()," ").concat(h,":").concat(u,":").concat(d),m=this.changeUrl(),p=m.match(/\bhttps?:\/\/\S+/),v=m.replace(p,'<a href="'.concat(p,'">').concat(p,"</a>"));return s.a.createElement("div",{className:"message_container ".concat(n?"message_container_dark_theme":"")},s.a.createElement("div",{className:"message_flex"},s.a.createElement("div",{className:"message_login"},t.login),s.a.createElement("div",{className:"message_currency"},o," ",t.payment.currency)),s.a.createElement("div",{className:"message_flex"},s.a.createElement("div",{className:"message_date_prov"},g),s.a.createElement("div",{className:"message_date_prov"},"P\u0142atno\u015b\u0107: ",t.payment.provider)),s.a.createElement("div",{className:"message_content",dangerouslySetInnerHTML:this.createMarkup(v)}),s.a.createElement("div",{className:"numberOfDonate"},a+1))}}]),t}(s.a.PureComponent)),f=(n(21),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(g.a)(t).call(this,e))).toggleChange=n.toggleChange.bind(Object(m.a)(n)),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"toggleChange",value:function(){this.props.toggleChange()}},{key:"render",value:function(){return s.a.createElement("div",{className:"switch_container"},s.a.createElement("label",{className:"switch"},s.a.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:this.toggleChange}),s.a.createElement("span",{className:"slider round"})))}}]),t}(a.Component)),b=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={isChecked:!0,limit:0,listLength:10,listOfMsgs:[],login:"",showButton:!1,isActiveList:!0},n.toggleChange=n.toggleChange.bind(Object(m.a)(n)),n.fetchMessages=n.fetchMessages.bind(Object(m.a)(n)),n.scrollEvent=n.scrollEvent.bind(Object(m.a)(n)),n.scrollToTop=n.scrollToTop.bind(Object(m.a)(n)),n.switchToTips=n.switchToTips.bind(Object(m.a)(n)),n.switchToList=n.switchToList.bind(Object(m.a)(n)),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("dark_theme")&&this.setState({isChecked:JSON.parse(localStorage.getItem("dark_theme")||"")}),document.title="Lista donate: brudna-malpa",this.fetchMessages(),window.addEventListener("scroll",this.scrollEvent,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollEvent,!0)}},{key:"scrollEvent",value:function(){window.innerHeight+window.pageYOffset>=document.body.offsetHeight-window.innerHeight&&this.setState({listLength:this.state.listLength+10}),window.scrollY>window.innerHeight?this.setState({showButton:!0}):this.setState({showButton:!1})}},{key:"fetchMessages",value:function(){var e=this,t={calls:[{method:"POST",params:{limit:0,login:"brudna-malpa",offset:0},url:"/user/page/getMessagesByLogin"}],lang:"pl",token:"0"};try{fetch("https://prod.tipanddonation.com/core/batchcall",{body:JSON.stringify(t),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()}).then(function(n){var a={calls:[{method:"POST",params:{limit:150,login:"brudna-malpa",offset:n[t.calls[0].url].data.results-150},url:"/user/page/getMessagesByLogin"}],lang:"pl",token:"0"};function s(){return(s=Object(l.a)(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://prod.tipanddonation.com/core/batchcall",{body:JSON.stringify(a),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},method:"POST"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n[a.calls[0].url].data.data);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}(function(){return s.apply(this,arguments)})().then(function(t){e.setState({listOfMsgs:t.reverse()})})})}catch(n){}}},{key:"renderMsgs",value:function(){var e=this,t=this.state.listOfMsgs,n=void 0!==t?t.slice(0,this.state.listLength):void 0;return void 0!==n?n.map(function(t,n){return s.a.createElement(v,{key:n,value:t,theme:e.state.isChecked,index:n})}):s.a.createElement("div",{style:{height:"100vh",fontSize:"4em"}})}},{key:"toggleChange",value:function(){var e=this;this.setState({isChecked:!this.state.isChecked},function(){localStorage.setItem("dark_theme",e.state.isChecked.toString())})}},{key:"scrollToTop",value:function(){window.scroll({top:0,behavior:"smooth"})}},{key:"switchToTips",value:function(){this.setState({isActiveList:!1})}},{key:"switchToList",value:function(){this.setState({isActiveList:!0})}},{key:"render",value:function(){var e=this.state,t=e.isChecked,n=e.showButton,a=e.isActiveList;return s.a.createElement("div",{className:"App ".concat(t?"dark_theme":"light_theme")},s.a.createElement(f,{checked:t,toggleChange:this.toggleChange}),a?s.a.createElement("div",{className:"page-container"},this.renderMsgs()):s.a.createElement("div",{className:"page-container"},s.a.createElement("iframe",{title:"tipanddonation",style:{width:"100%",height:"94vh"},src:"https://tipanddonation.com/brudna-malpa"})),s.a.createElement("div",{onClick:this.scrollToTop,className:"arrow-up ".concat(t?"arrow-up-dark-theme":""),style:{display:n?"block":"none"}},"\u2191"))}}]),t}(s.a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[11,1,2]]]);
//# sourceMappingURL=main.7018759e.chunk.js.map